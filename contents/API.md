# API설계
- [REST API란?](https://engineering-skcc.github.io/microservice%20modeling/BackEnd-modeling-API/)
- [REST API성숙도모델](https://engineering-skcc.github.io/microservice%20modeling/BackEnd-modeling-API/)

# API가 먼저인가 도메인이 먼저인가?

API설계는 프론트 엔드 영역과 백엔드 영역을 연결하는 계약과 같다. 따라서 양쪽이 구현하기에 앞서 미리 정의되는 것이 좋다. 
그렇다면 벡엔드 엔지니어 입장에서 API설계를 먼저 진행해야 하는 가? 아니면 백엔드의 핵심인 내부 영역의 도메인을 미리 정의해야 할까? 그런 고민이 생긴다.
그렇다면 프론트의 UI설계 , 백엔드의 도메인모델링, 백엔드에서 구현하지만 양쪽이 합의해야 하는API설계의 작업 순서는 어떻게 되어 할까? 

우선은 API 설계 전에 양쪽이 각각의 주 설계 영역인 UI설계, 도메인 모델링을 요구사항을 기반으로 각각 선행해야 한다. 만약 도메인 모델이 정립이 안된 상황에서 프론트 화면 설계가 먼저 진행된 뒤 화면에서 필요한 API를 정의하게 되면 매우 프론트 중심의 API가 나올 수 밖에 없을 것이다.
따라서 UI설계와 도메인 모델링은 비슷한 시기에 병행해서 진행되고 어느정도 양쪽이 정리가 된 뒤에 API를 확정하는 것이 좋다.
가끔 현장에서 보면 UI설계를 먼저하고 그에 따라 API를 정의하고 백엔드 설계를 진행하는 프로젝트를 가끔 본다. 그런 시스템의 API는 프론트에 대한 의존도가 높아 비슷비슷한 API등이 많이 생긴다. 즉 API를 재사용할 수 없고 API가 프론트 UI예 따라 중복 개발되는 경향이 높다.

따라서 백엔드 입장에서 API의 원천은 도메인 모델이기 때문에 도메인모델링이 선행되게 해야 한다. 도메인 모델이 대략 정의되어 야지 그 서비스에서 제공할 API가 정리되고 구체화될 수 있다. 
그러므로 양쪽의 핵심 설계 영역이 UI설계 ,도메인 모델링이 어느정도 진행된 이후에 API설계를 진행해야 한다. 그런 다음에 API설계 협의에 따라 양쪽 설계 영역은 계속 정제될 것이다.
구현도 마찬가지이다. 백엔드의 핵심인 내부영역부터 시작해서 외부영역으로 진행되어야 한다.

## 1.API설계서    
 * 마이크로서비스별로 작성
 * 마이크로서비스에서 외부에 공개된 API를 표현
 * 양식 자유 (엑셀,PPT,협업도구)
 * 엑셀작성시 엑셀파일명이 서비스명, Sheet당 1개의 API
 <img src="https://github.com/CNAPS-MSA/CNAPS3/blob/master/img/apiD.png" width="50%">
 

