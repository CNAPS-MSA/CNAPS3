# 사용자(User)서비스 구현
**코드는 아무 예고 없이 언제든 변경될 수 있으니, 실제 코드는 해당 서비스 애플리케이션의 Repository에서 확인하세요.**

Sample에서 보여줄 기능은 아래와 같다.

## 구현기능
  - 사용자 관리
    1. 사용자 역할관리
  - 포인트 관리
    1. 포인트 부여
    2. 포인트 적립 및 결제

## API설계

|API명|사용자 정보수정|
|----|------|
|리소스URI|"/users"|
|Method|PUT|
|Request|UserDTO|
|Response| |

리소스로 예를 들면 /users를 PUT방식으로 호출하여 requestBody로 UserDTO를 보내 사용자 정보를 수정한다.
이때, 사용자 역할관리 또한 사용자 정보수정 방식으로 구현되었으며 ADMIN만 위 URI 접근이 허용된다.

|API명|포인트 결제|
|----|------|
|리소스URI|"/users/latefee"|
|Method|PUT|
|Request|LatefeeDTO|
|Response| |

/users/latefee를 PUT방식으로 호출하여 LatefeeDTO를 받아 사용자의 정보와 연체료 정보를 받아 연체료 결제를 수행한다.

## 도메인 모델링

사용자 서비스의 도메인 모델은 권한과 사용자로 구성된다. 권한과 사용자 모두 루트 엔티티이며 사용자와 권한은 다대다의 관계를 갖는다.
사용자의 권한은 'ROLE_ADMIN'인 관리자와 'ROLE_USER'인 일반 사용자로 구성되어있으며 사용자 생성 시 기본 권한인 'ROLE_USER'로 설정된다.
관리자 권한의 경우, 오직 관리자에 의해서만 부여받을 수 있다.

## 유스케이스 흐름

사용자 서비스의 경우, 기본적인 사용자 관리와 포인트 관리 기능을 포함하고 있는데 두 기능 모두 특별한 비즈니스 로직은 없다.
사용자 관리는 관리자만이 사용자 역할 관리를 수행할 수 있으며, 포인트 관리 기능은 Rental 서비스의 동기/비동기 호출에 의해 적립 또는 결제되기 때문이다.

## 내부영역 - 도메인 모델 개발

사용자는 login(로그인에 필요한 Id를 의미한다), password(비밀번호), firstName(이름), lastName(성), email(이메일 주소), authorities(권한) 등을 기본적인 속성으로 갖는다. 



## 내부영역 - 서비스 개발

## 내부영역 - 레파지토리 개발

## 외부영역 - REST 컨트롤러 개발

## 외부영역 - 아웃바운드 어댑터 개발

## 단위테스트 수행


